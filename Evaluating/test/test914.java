@ Stateless public class UserManagerBean implements UserManager { @ PersistenceContext private EntityManager em ; public User create ( String username , String password ) { User user = new User ( ) ; user . setUsername ( username ) ; user . setPassword ( password ) ; em . persist ( user ) ; return user ; } public User findByUsername ( String username ) { Query query = em . createNamedQuery ( "findUserByUsername" ) ; query . setParameter ( "username" , username ) ; return ( User ) query . getSingleResult ( ) ; } public void remove ( User user ) { em . remove ( user ) ; } public void update ( User user ) { em . merge ( user ) ; } } 
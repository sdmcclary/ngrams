public class HttpTransportBasicAuth extends HttpTransport { private String username ; private String password ; public HttpTransportBasicAuth ( String url , String username , String password ) { super ( url ) ; this . username = username ; this . password = password ; } protected ServiceConnection getServiceConnection ( ) throws IOException { ServiceConnectionMidp midpConnection = new ServiceConnectionMidp ( url ) ; addBasicAuthentication ( midpConnection ) ; return midpConnection ; } protected void addBasicAuthentication ( ServiceConnection midpConnection ) throws IOException { if ( username != null && password != null ) { StringBuffer buf = new StringBuffer ( username ) ; buf . append ( ':' ) . append ( password ) ; byte [ ] raw = buf . toString ( ) . getBytes ( ) ; buf . setLength ( 0 ) ; buf . append ( "Basic " ) ; org . kobjects . base64 . Base64 . encode ( raw , 0 , raw . length , buf ) ; midpConnection . setRequestProperty ( "Authorization" , buf . toString ( ) ) ; } } } 
public class CopyDocumentProcessor implements DocumentProcessor { public Document processDocument ( Document orig ) throws DocumentProcessorException { Document copy = new DocumentImpl ( ) ; copy . setId ( orig . getId ( ) ) ; if ( null == orig . getItems ( ) ) { copy . setItems ( null ) ; return copy ; } for ( Item origItem : orig . getItems ( ) ) { Item copyItem = new ItemImpl ( ) ; copyItem . setId ( origItem . getId ( ) ) ; copy . addItem ( copyItem ) ; } return copy ; } } 
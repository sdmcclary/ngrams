public class StringWithoutLineBreaks extends AbstractDatatype { public static final StringWithoutLineBreaks THE_INSTANCE = new StringWithoutLineBreaks ( ) ; private StringWithoutLineBreaks ( ) { super ( ) ; } @ Override public void checkValid ( CharSequence literal ) throws DatatypeException { int len = literal . length ( ) ; for ( int i = 0 ; i < len ; i ++ ) { char c = literal . charAt ( i ) ; if ( c == '\n' ) { throw newDatatypeException ( i , "Line feed not allowed." ) ; } else if ( c == '\r' ) { throw newDatatypeException ( i , "Carriage return not allowed." ) ; } } } @ Override public String getName ( ) { return "string without line breaks" ; } } 
public class Polyline extends AbstractInt { public static final Polyline THE_INSTANCE = new Polyline ( ) ; private Polyline ( ) { super ( ) ; } @ Override public void checkValid ( CharSequence literal ) throws DatatypeException { List < CharSequenceWithOffset > list = split ( literal , ',' ) ; if ( list . size ( ) < 6 ) { throw newDatatypeException ( "A polyline must have at least six comma-separated integers." ) ; } if ( list . size ( ) % 2 != 0 ) { throw newDatatypeException ( "A polyline must have an even number of comma-separated integers." ) ; } for ( CharSequenceWithOffset item : list ) { checkInt ( item . getSequence ( ) , item . getOffset ( ) ) ; } } @ Override public String getName ( ) { return "polyline" ; } } 
public final class DatatypeStreamingValidatorImpl implements DatatypeStreamingValidator { private final AbstractDatatype datatype ; private final StringBuilder buffer ; public DatatypeStreamingValidatorImpl ( AbstractDatatype datatype ) { super ( ) ; this . datatype = datatype ; this . buffer = new StringBuilder ( ) ; } public void addCharacters ( char [ ] buf , int start , int len ) { buffer . append ( buf , start , len ) ; } public boolean isValid ( ) { try { datatype . checkValid ( buffer ) ; } catch ( DatatypeException e ) { return false ; } return true ; } public void checkValid ( ) throws DatatypeException { datatype . checkValid ( buffer ) ; } } 
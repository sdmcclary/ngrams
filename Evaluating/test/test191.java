class OasisCatalog extends Catalog { private final SAXResolver saxResolver ; OasisCatalog ( CatalogManager catalogManager , SAXResolver saxResolver ) { super ( catalogManager ) ; this . saxResolver = saxResolver ; } protected void parseCatalogFile ( String uri ) throws IOException { OASISXMLCatalogReader catalogReader = new OASISXMLCatalogReader ( ) ; try { SAXSource source = saxResolver . resolve ( new XMLDocumentIdentifier ( uri , null , OASISXMLCatalogReader . namespaceName ) ) ; String systemId = source . getInputSource ( ) . getSystemId ( ) ; if ( systemId == null ) systemId = uri ; base = new URL ( systemId ) ; catalogReader . setCatalog ( this ) ; XMLReader xmlReader = source . getXMLReader ( ) ; xmlReader . setEntityResolver ( new CatalogEntityResolver ( xmlReader . getEntityResolver ( ) ) ) ; xmlReader . setContentHandler ( catalogReader ) ; xmlReader . setErrorHandler ( new DraconianErrorHandler ( ) ) ; xmlReader . parse ( source . getInputSource ( ) ) ; } catch ( SAXException e ) { Exception wrapped = e . getException ( ) ; throw new ResolverIOException ( wrapped instanceof ResolverException ? ( ResolverException ) wrapped : new ResolverException ( e ) ) ; } } } 